<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="description" content="Shopping Cart for PKTour Hotel">
    <meta name="keywords" content="PKTour, hotel, cart, booking, rooms, travel">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Giỏ hàng của bạn - PKTour Hotel</title>

    <link href="https://fonts.googleapis.com/css?family=Montserrat:300,400,500,600,700,800,900&display=swap"
        rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Oswald:300,400,500,600,700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

    <link rel="stylesheet" href="css/bootstrap.min.css" type="text/css">
    <link rel="stylesheet" href="css/font-awesome.min.css" type="text/css">
    <link rel="stylesheet" href="css/flaticon.css" type="text/css">
    <link rel="stylesheet" href="css/owl.carousel.min.css" type="text/css">
    <link rel="stylesheet" href="css/gijgo.min.css" type="text/css">
    <link rel="stylesheet" href="css/slicknav.min.css" type="text/css">
    <link rel="stylesheet" href="css/jquery-ui.min.css" type="text/css">
    <link rel="stylesheet" href="css/style.css" type="text/css">

    <link rel="stylesheet" href="css/cart-styles.css" type="text/css">

</head>

<body>
    <div id="preloder">
        <div class="loader"></div>
    </div>

    <div class="offcanvas-menu-overlay"></div>
    <div class="offcanvas-menu-wrapper">
        <div class="canvas-close">
            <i class="icon_close"></i>
        </div>
        <div class="search-icon search-switch">
            <i class="icon_search"></i>
        </div>
        <div class="header-configure-area">
            <div class="language-option">
                <img src="img/flag.jpg" alt="">
                <span>VI <i class="fa fa-angle-down"></i></span>
                <div class="flag-dropdown">
                    <ul>
                        <li><a href="#">Zi</a></li>
                        <li><a href="#">Fr</a></li>
                    </ul>
                </div>
            </div>
            <a href="./booking.html" class="bk-btn">Booking Now</a>
        </div>
        <nav class="mainmenu mobile-menu">
            <ul>
                <li><a href="./index.html">Home</a></li>
                <li><a href="./rooms.html">Rooms</a></li>
                <li><a href="./about-us.html">About Us</a></li>
                <li><a href="./pages.html">Pages</a>
                    <ul class="dropdown">
                        <li><a href="./room-details.html">Room Details</a></li>
                        <li><a href="./blog-details.html">Blog Details</a></li>
                        <li><a href="#">Family Room</a></li>
                        <li><a href="#">Premium Room</a></li>
                    </ul>
                </li>
                <li><a href="./blog.html">News</a></li>
                <li><a href="./contact.html">Contact</a></li>
            </ul>
        </nav>
        <div id="mobile-menu-wrap"></div>
        <div class="top-social">
            <a href="#"><i class="fa fa-facebook"></i></a>
            <a href="#"><i class="fa fa-twitter"></i></a>
            <a href="#"><i class="fa fa-tripadvisor"></i></a>
            <a href="#"><i class="fa fa-instagram"></i></a>
        </div>
        <ul class="top-widget">
            <li><i class="fa fa-phone"></i> +84 123 456 789</li>
            <li><i class="fa fa-envelope"></i> info.pktour@gmail.com</li>
        </ul>
    </div>
    <header class="header-section">
        <div class="top-nav">
            <div class="container">
                <div class="row">
                    <div class="col-lg-6">
                        <ul class="tn-left">
                            <li><i class="fa fa-phone"></i> +84 123 456 789</li>
                            <li><i class="fa fa-envelope"></i> info.pktour@gmail.com</li>
                        </ul>
                    </div>
                    <div class="col-lg-6">
                        <div class="tn-right">
                            <div class="top-social">
                                <a href="#"><i class="fa fa-facebook"></i></a>
                                <a href="#"><i class="fa fa-twitter"></i></a>
                                <a href="#"><i class="fa fa-tripadvisor"></i></a>
                                <a href="#"><i class="fa fa-instagram"></i></a>
                            </div>
                            <a href="./booking.html" class="bk-btn">Booking Now</a>
                            <div class="language-option">
                                <img src="img/flag.jpg" alt="">
                                <span>VI <i class="fa fa-angle-down"></i></span>
                                <div class="flag-dropdown">
                                    <ul>
                                        <li><a href="#">Zi</a></li>
                                        <li><a href="#">Fr</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="menu-item">
            <div class="container">
                <div class="row">
                    <div class="col-lg-2">
                        <div class="logo">
                            <a href="./index.html">
                                <img src="img/logo.png" alt="PKTour Logo">
                            </a>
                        </div>
                    </div>
                    <div class="col-lg-10">
                        <div class="nav-menu">
                            <nav class="mainmenu">
                                <ul>
                                    <li><a href="./index.html">Home</a></li>
                                    <li><a href="./rooms.html">Rooms</a></li>
                                    <li><a href="./about-us.html">About Us</a></li>
                                    <li class="active"><a href="./pages.html">Pages</a>
                                        <ul class="dropdown">
                                            <li><a href="./room-details.html">Room Details</a></li>
                                            <li><a href="./blog-details.html">Blog Details</a></li>
                                            <li><a href="#">Family Room</a></li>
                                            <li><a href="#">Premium Room</a></li>
                                        </ul>
                                    </li>
                                    <li><a href="./blog.html">News</a></li>
                                    <li><a href="./contact.html">Contact</a></li>
                                </ul>
                            </nav>
                            <div class="nav-right search-switch">
                                <i class="icon_search"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>
    <div class="breadcrumb-section">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="breadcrumb-text">
                        <h2>Giỏ hàng của bạn</h2>
                        <div class="bt-option">
                            <a href="./index.html">Home</a>
                            <span>Giỏ hàng</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <section class="cart-section spad">
        <div class="container">
            <div class="cart-container">
                <h2>Các phòng đã chọn</h2>
                <div id="cart-items-display">
                    </div>

                <div class="cart-summary">
                    <div class="row">
                        <div class="col-lg-6 offset-lg-6">
                            <div class="cart-total-info">
                                <h4>Tổng cộng giỏ hàng</h4>
                                <ul>
                                    <li>Tổng tiền phòng: <span id="subtotal">0$</span></li>
                                    <li>Phí dịch vụ: <span>0$</span></li> <li class="cart-total">Tổng thanh toán: <span id="cart-grand-total">0$</span></li>
                                </ul>
                                <a href="./booking.html" class="site-btn proceed-to-booking">Tiến hành đặt phòng</a>
                                <a href="./rooms.html" class="site-btn continue-shopping">Tiếp tục chọn phòng</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
   <!-- Footer Section Begin -->
        <footer class="footer-section">
            <div class="container">
                <div class="footer-text">
                    <div class="row">
                        <div class="col-lg-4">
                            <div class="ft-about">
                                <div class="logo">
                                    <a href="#" class="logo-text"> PKTour </a>
                                </div>
                                <p>
                                    We inspire and reach millions of
                                    travelers<br />
                                    across 90 local websites
                                </p>
                                <div class="fa-social">
                                    <a href="#"
                                        ><i class="fa fa-facebook"></i
                                    ></a>
                                    <a href="#"
                                        ><i class="fa fa-twitter"></i
                                    ></a>
                                    <a href="#"
                                        ><i class="fa fa-tripadvisor"></i
                                    ></a>
                                    <a href="#"
                                        ><i class="fa fa-instagram"></i
                                    ></a>
                                    <a href="#"
                                        ><i class="fa fa-youtube-play"></i
                                    ></a>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-3 offset-lg-1">
                            <div class="ft-contact">
                                <h6>Contact Us</h6>
                                <ul>
                                    <li>(12) 345 67890</li>
                                    <li>info.colorlib@gmail.com</li>
                                    <li>
                                        856 Cordia Extension Apt. 356, Lake,
                                        United State
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div class="col-lg-3 offset-lg-1">
                            <div class="ft-newslatter">
                                <h6>New latest</h6>
                                <p>Get the latest updates and offers.</p>
                                <form action="#" class="fn-form">
                                    <input type="text" placeholder="Email" />
                                    <button type="submit">
                                        <i class="fa fa-send"></i>
                                    </button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="copyright-option">
                <div class="container">
                    <div class="row">
                        <div class="col-lg-7">
                            <ul>
                                <li><a href="#">Contact</a></li>
                                <li><a href="#">Terms of use</a></li>
                                <li><a href="#">Privacy</a></li>
                                <li><a href="#">Environmental Policy</a></li>
                            </ul>
                        </div>
                        <div class="col-lg-5">
                            <div class="co-text">
                                <p>
                                    <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
                                    Copyright &copy;
                                    <script>
                                        document.write(
                                            new Date().getFullYear()
                                        );
                                    </script>
                                    All rights reserved | This template is made
                                    with
                                    <i
                                        class="fa fa-heart"
                                        aria-hidden="true"
                                    ></i>
                                    by
                                    <a
                                        href="https://colorlib.com"
                                        target="_blank"
                                        >Colorlib</a
                                    >
                                    <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </footer>
        <!-- Footer Section End -->
    <div class="search-model">
        <div class="h-100 d-flex align-items-center justify-content-center">
            <div class="search-close-switch"><i class="icon_close"></i></div>
            <form class="search-model-form">
                <input type="text" id="search-input" placeholder="Tìm kiếm.....">
            </form>
        </div>
    </div>
    <script src="js/jquery-3.3.1.min.js"></script>
    <script src="js/jquery-ui.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/gijgo.min.js"></script>
    <script src="js/jquery.slicknav.js"></script>
    <script src="js/owl.carousel.min.js"></script>
    <script src="js/main.js"></script> <script>
        $(document).ready(function() {
            <script>
                function addToCart(room) {
                    var cart = JSON.parse(localStorage.getItem('cart')) || [];

                    var existingItem = cart.find(item => item.id === room.id);

                    if (existingItem) {
                        existingItem.quantity += 1; // Nếu đã có thì tăng số lượng
                    } else {
                        cart.push({ ...room, quantity: 1 });
                    }

                    localStorage.setItem('cart', JSON.stringify(cart));
                    alert('Đã thêm vào giỏ hàng: ' + room.name);
                }
            </script>

            // Hàm để hiển thị các mục trong giỏ hàng
            function displayCartItems() {
                // Lấy giỏ hàng từ localStorage
                var cart = JSON.parse(localStorage.getItem('cart')) || [];
                var cartDisplayArea = $('#cart-items-display');
                cartDisplayArea.empty(); // Xóa nội dung hiện có để cập nhật lại

                if (cart.length === 0) {
                    cartDisplayArea.append('<p class="cart-empty-message">Giỏ hàng của bạn đang trống.</p>');
                    // Ẩn phần tổng tiền nếu không có gì trong giỏ hàng
                    $('.cart-summary').hide();
                    return;
                }

                // Hiện phần tổng tiền nếu có sản phẩm
                $('.cart-summary').show();

                var subtotal = 0;

                // Tạo bảng để hiển thị các mục trong giỏ hàng
                var tableHtml = `
                    <table class="cart-table">
                        <thead>
                            <tr>
                                <th>Phòng</th>
                                <th>Giá</th>
                                <th>Số lượng</th>
                                <th>Tổng</th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody>
                `;

                cart.forEach(function(item) {
                    var itemTotal = item.price * item.quantity;
                    subtotal += itemTotal;
                    tableHtml += `
                        <tr class="cart-item" data-id="${item.id}">
                            <td class="item-details">
                                <h5>${item.name}</h5>
                            </td>
                            <td class="item-price"><span>${item.price}$</span>/đêm</td>
                            <td class="item-quantity">
                                <input type="number" value="${item.quantity}" min="1" class="quantity-input">
                            </td>
                            <td class="item-total"><span>${itemTotal}$</span></td>
                            <td class="item-remove">
                                <button class="remove-item-btn" data-id="${item.id}"><i class="fa fa-times"></i></button>
                            </td>
                        </tr>
                    `;
                });

                tableHtml += `
                        </tbody>
                    </table>
                `;
                cartDisplayArea.append(tableHtml);

                // Cập nhật tổng tiền (subtotal và grand total)
                $('#subtotal').text(subtotal + '$');
                var serviceFee = 0; // Bạn có thể thêm phí dịch vụ nếu muốn
                var grandTotal = subtotal + serviceFee;
                $('#cart-grand-total').text(grandTotal + '$');

                // Gắn sự kiện cho nút xóa sản phẩm
                $('.remove-item-btn').on('click', function() {
                    var roomId = $(this).data('id');
                    removeFromCart(roomId);
                });

                // Gắn sự kiện cho ô input số lượng
                $('.quantity-input').on('change', function() {
                    var roomId = $(this).closest('.cart-item').data('id');
                    var newQuantity = parseInt($(this).val());

                    // Đảm bảo số lượng không nhỏ hơn 1
                    if (isNaN(newQuantity) || newQuantity < 1) {
                        newQuantity = 1;
                        $(this).val(1); // Đặt lại giá trị input
                    }
                    updateCartQuantity(roomId, newQuantity);
                });
            }

            // Hàm xóa một mục khỏi giỏ hàng
            function removeFromCart(id) {
                var cart = JSON.parse(localStorage.getItem('cart')) || [];
                var updatedCart = cart.filter(item => item.id !== id);
                localStorage.setItem('cart', JSON.stringify(updatedCart));
                displayCartItems(); // Tải lại giỏ hàng để cập nhật giao diện
            }

            // Hàm cập nhật số lượng của một mục trong giỏ hàng
            function updateCartQuantity(id, quantity) {
                var cart = JSON.parse(localStorage.getItem('cart')) || [];
                var itemToUpdate = cart.find(item => item.id === id);

                if (itemToUpdate) {
                    itemToUpdate.quantity = quantity;
                    localStorage.setItem('cart', JSON.stringify(cart));
                    displayCartItems(); // Tải lại giỏ hàng để cập nhật giao diện
                }
            }

            // Gọi hàm hiển thị giỏ hàng khi trang cart.html được tải
            displayCartItems();
        });
    </script>
</body>

</html>